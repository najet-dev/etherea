<div class="address-form-wrapper container-fluid p-3 position-relative">
  <button class="close-button" (click)="close()" aria-label="Fermer">
    &times;
  </button>
  <h2 class="text-center mb-4">
    {{ data.isEdit ? "Modifier l'adresse" : "Ajouter une adresse" }}
  </h2>

  <form [formGroup]="addressForm" class="needs-validation">
    <div class="row g-3">
      <div class="col-md-6">
        <input
          formControlName="firstName"
          class="form-control"
          placeholder="Prénom"
        />
        <div class="text-danger mt-1" *ngIf="isFieldInvalid('firstName')">
          Le prénom est requis.
        </div>
      </div>

      <div class="col-md-6">
        <input
          formControlName="lastName"
          class="form-control"
          placeholder="Nom"
        />
        <div class="text-danger mt-1" *ngIf="isFieldInvalid('lastName')">
          Le nom est requis.
        </div>
      </div>

      <div class="col-12">
        <input
          formControlName="address"
          class="form-control"
          placeholder="Adresse"
        />
        <div class="text-danger mt-1" *ngIf="isFieldInvalid('address')">
          L'adresse est requise.
        </div>
      </div>

      <div class="col-md-6">
        <input
          formControlName="zipCode"
          class="form-control"
          placeholder="Code postal"
        />
        <div class="text-danger mt-1" *ngIf="isFieldInvalid('zipCode')">
          Le code postal doit contenir exactement 5 chiffres.
        </div>
      </div>

      <div class="col-md-6">
        <input
          formControlName="city"
          class="form-control"
          placeholder="Ville"
        />
        <div class="text-danger mt-1" *ngIf="isFieldInvalid('city')">
          La ville est requise.
        </div>
      </div>

      <div class="col-md-6">
        <input
          formControlName="country"
          class="form-control"
          placeholder="Pays"
        />
        <div class="text-danger mt-1" *ngIf="isFieldInvalid('country')">
          Le pays est requis.
        </div>
      </div>

      <div class="col-md-6">
        <input
          formControlName="phoneNumber"
          class="form-control"
          placeholder="Téléphone"
        />
        <div class="text-danger mt-1" *ngIf="isFieldInvalid('phoneNumber')">
          Le numéro de téléphone doit être au format (ex: 0601020304 ou
          +33601020304).
        </div>
      </div>
    </div>

    <div class="button-group d-flex justify-content-center mt-4 gap-3">
      <button type="button" class="btn-primary" (click)="close()">
        Annuler
      </button>
      <button
        type="button"
        class="btn-primary"
        (click)="saveAddress()"
        [disabled]="addressForm.invalid"
      >
        Enregistrer
      </button>
    </div>
  </form>
</div>
